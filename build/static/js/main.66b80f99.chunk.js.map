{"version":3,"sources":["module/alpha.png","module/gradient.png","module/hue.png","module/index.js","index.js"],"names":["module","exports","__webpack_require__","p","eventOptions","supportsPassive","passive","random","Math","max","min","ColorPicker","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","color","r","g","b","a","_rgb2hsv","rgb2hsv","h","s","v","state","showDialog","positionClassName","_valueMouseHandler","bind","assertThisInitialized","_valueKeyHandler","_hueMouseHandler","_hueKeyHandler","_alphaMouseHandler","_alphaKeyHandler","_showDialog","_hideDialog","_positionHandler","debounce","updateDialogPosition","element","node","colorPicker","parentNode","component","handler","keyHandler","mouse","Mouse","keyboard","Keyboard","onDrag","onDown","onKeyDown","detach","event","boardOverlay","_event$mouse","isLeftButton","position","x","y","width","offsetWidth","height","offsetHeight","_changeColor","_this$state","hasKeyPressed","Keys","UP","DOWN","LEFT","RIGHT","hueBanner","_event$mouse2","_this$state2","alphaBanner","_event$mouse3","_this$state3","setState","document","addEventListener","window","_isWithinComponent","target","removeEventListener","onChange","_hsv2rgb","hsv2rgb","arguments","length","undefined","_rgb2hsv2","colorPalette","_this$props","dialogWidth","dialogHeight","_colorPalette$getBoun","getBoundingClientRect","bottom","left","_document$documentEle","documentElement","clientWidth","clientHeight","horizontal","concat","_addListeners","_removeListeners","_this2","_this$props2","className","paletteClassName","paletteStyle","rest","objectWithoutProperties","_this$state4","_hsv2rgb2","hR","hG","hB","_hsv2rgb3","react_default","createElement","assign","ref","c","ClassNames","style","backgroundColor","onClick","d","colorDialog","show","backgroundImage","Gradient","top","Hue","Alpha","background","Component","defaultProps","Demo","dragHandler","downHandler","upHandler","dragging","_event$mouse$position","picker","wrapper","onUp","id","w","src_module","value","render","src_Demo","getElementById"],"mappings":"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","file":"static/js/main.66b80f99.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAABmJLR0QA4QDhAOGT2j1pAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4QoCCxQo5jsi4wAAADFJREFUOMtjfPjw4X8GIsDp02eJUcbAxEBlMGrgqIGDwUAWYnOAqanxaBiOGjhyDQQAl5MJLxfm+p0AAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/gradient.c7a33805.png\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJYAAAABCAYAAAA8YlcZAAAAAXNSR0IArs4c6QAAAAlwSFlzAAALEwAACxMBAJqcGAAAAVlpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDUuNC4wIj4KICAgPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICAgICAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgICAgICAgICAgeG1sbnM6dGlmZj0iaHR0cDovL25zLmFkb2JlLmNvbS90aWZmLzEuMC8iPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICA8L3JkZjpEZXNjcmlwdGlvbj4KICAgPC9yZGY6UkRGPgo8L3g6eG1wbWV0YT4KTMInWQAAAINJREFUKBWNUEEKhEAMi7iKq6Bf8P9f8hvuiIu72sDEQ0HtoXSSSUvSYuqHfZx/ANpcnfW3w/zzXBR3+KNBsg2sj9WS3xGsuae+lraUlmhfUSKY2uhMvZmYCehGKYTFeUxenJ/xOKHCdtqXteilFfuuM2q55ghPR6VtWbzSeo3h9H3hAFtoUf/CkDSeAAAAAElFTkSuQmCC\"","/*eslint no-unused-vars: [\"error\", { \"ignoreRestSiblings\": true }]*/\n\nimport React, { Component } from \"react\";\nimport ClassNames from \"classnames\";\nimport PropTypes from \"prop-types\";\nimport debounce from \"debounce\";\nimport { rgb2hsv, hsv2rgb } from \"color-functions\";\nimport Keyboard, { Keys } from \"jw-keyboard\";\nimport Mouse from \"jw-mouse\";\nimport supportsPassive from \"supports-passive\";\n\nimport Alpha from \"./alpha.png\";\nimport Gradient from \"./gradient.png\";\nimport Hue from \"./hue.png\";\n\nimport \"./style.css\";\n\nconst eventOptions = supportsPassive ? { passive: true } : false;\nconst { random, max, min } = Math;\n\nclass ColorPicker extends Component {\n  constructor(props) {\n    super(props);\n\n    const { color } = props;\n    const { r, g, b, a } = color;\n    let { h, s, v } = rgb2hsv(r, g, b);\n    s /= 100;\n    v /= 100;\n\n    const positionClassName = \"bottom right\";\n\n    this.state = { showDialog: false, h, s, v, a, positionClassName };\n\n    /* Add bindings to all event methods to secure scoping. */\n    this._valueMouseHandler = this._valueMouseHandler.bind(this);\n    this._valueKeyHandler = this._valueKeyHandler.bind(this);\n    this._hueMouseHandler = this._hueMouseHandler.bind(this);\n    this._hueKeyHandler = this._hueKeyHandler.bind(this);\n    this._alphaMouseHandler = this._alphaMouseHandler.bind(this);\n    this._alphaKeyHandler = this._alphaKeyHandler.bind(this);\n    this._showDialog = this._showDialog.bind(this);\n    this._hideDialog = this._hideDialog.bind(this);\n\n    this._positionHandler = debounce(() => this.updateDialogPosition(), true);\n  }\n\n  _isWithinComponent(element) {\n    let node = element;\n\n    while (node !== null) {\n      if (node === this.colorPicker) {\n        return true;\n      }\n\n      node = node.parentNode;\n    }\n\n    return false;\n  }\n\n  _addListeners(component, handler, keyHandler) {\n    component.mouse = new Mouse(component);\n    component.keyboard = new Keyboard(component);\n\n    component.mouse.onDrag(handler);\n    component.mouse.onDown(handler);\n    component.keyboard.onKeyDown(keyHandler);\n  }\n\n  _removeListeners(component) {\n    component.mouse.detach();\n    component.keyboard.detach();\n  }\n\n  _valueMouseHandler(event) {\n    const { boardOverlay, state } = this;\n    const { h, a } = state;\n    const { isLeftButton, position } = event.mouse;\n\n    if (isLeftButton === true) {\n      const { x, y } = position;\n      const { offsetWidth: width, offsetHeight: height } = boardOverlay;\n\n      const s = max(0, min(width, x)) / width;\n      const v = 1 - max(0, min(height, y)) / height;\n\n      this._changeColor(h, s, v, a);\n    }\n  }\n\n  _valueKeyHandler(event) {\n    let { h, s, v, a } = this.state;\n    const { keyboard } = event;\n\n    if (keyboard.hasKeyPressed(Keys.UP)) {\n      v = max(0, min(1, v + 0.01));\n    } else if (keyboard.hasKeyPressed(Keys.DOWN)) {\n      v = max(0, min(1, v - 0.01));\n    }\n    if (keyboard.hasKeyPressed(Keys.LEFT)) {\n      s = max(0, min(1, s - 0.01));\n    } else if (keyboard.hasKeyPressed(Keys.RIGHT)) {\n      s = max(0, min(1, s + 0.01));\n    }\n\n    this._changeColor(h, s, v, a);\n  }\n\n  _hueMouseHandler(event) {\n    const { hueBanner, state } = this;\n    const { s, v, a } = state;\n    const { isLeftButton, position } = event.mouse;\n\n    if (isLeftButton === true) {\n      const { x } = position;\n      const { offsetWidth: width } = hueBanner;\n\n      const h = (1 - max(0, min(width, x)) / width) * 360;\n\n      this._changeColor(h, s, v, a);\n    }\n  }\n\n  _hueKeyHandler(event) {\n    let { h, s, v, a } = this.state;\n    const { keyboard } = event;\n\n    if (keyboard.hasKeyPressed(Keys.LEFT)) {\n      h = max(0, min(360, h + 3.6));\n    } else if (keyboard.hasKeyPressed(Keys.RIGHT)) {\n      h = max(0, min(360, h - 3.6));\n    }\n\n    this._changeColor(h, s, v, a);\n  }\n\n  _alphaMouseHandler(event) {\n    const { alphaBanner, state } = this;\n    const { h, s, v } = state;\n    const { isLeftButton, position } = event.mouse;\n\n    if (isLeftButton === true) {\n      const { x } = position;\n      const { offsetWidth: width } = alphaBanner;\n\n      const a = max(0, min(width, x)) / width;\n\n      this._changeColor(h, s, v, a);\n    }\n  }\n\n  _alphaKeyHandler(event) {\n    let { h, s, v, a } = this.state;\n    const { keyboard } = event;\n\n    if (keyboard.hasKeyPressed(Keys.LEFT)) {\n      a = max(0, min(1, a - 0.01));\n    } else if (keyboard.hasKeyPressed(Keys.RIGHT)) {\n      a = max(0, min(1, a + 0.01));\n    }\n\n    this._changeColor(h, s, v, a);\n  }\n\n  _showDialog() {\n    this.updateDialogPosition();\n    this.setState({ showDialog: true });\n\n    document.addEventListener(\"mousedown\", this._hideDialog, eventOptions);\n    document.addEventListener(\"scroll\", this._positionHandler, eventOptions);\n    window.addEventListener(\"resize\", this._positionHandler, eventOptions);\n  }\n\n  _hideDialog(event) {\n    if (!event || !this._isWithinComponent(event.target)) {\n      this.setState({ showDialog: false });\n\n      document.removeEventListener(\"mousedown\", this._hideDialog);\n      document.removeEventListener(\"scroll\", this._positionHandler);\n      window.removeEventListener(\"resize\", this._positionHandler);\n    }\n  }\n\n  _changeColor(h, s, v, a) {\n    const { onChange } = this.props;\n    let { r, g, b } = hsv2rgb(h, s * 100, v * 100);\n\n    this.setState({ h, s, v, a });\n    onChange({ r, b, g, a });\n  }\n\n  setColor(r = 0, g = 0, b = 0, a = 1) {\n    let { h, s, v } = rgb2hsv(r, g, b);\n    s /= 100;\n    v /= 100;\n\n    this.setState({ h, s, v, a });\n  }\n\n  updateDialogPosition() {\n    const { colorPalette } = this;\n    const { dialogWidth, dialogHeight } = this.props;\n    const { bottom, left } = colorPalette.getBoundingClientRect();\n    const { clientWidth, clientHeight } = document.documentElement;\n\n    let vertical = clientHeight - bottom > dialogHeight ? \"bottom\" : \"top\";\n    let horizontal = clientWidth - left > dialogWidth ? \"right\" : \"left\";\n    let positionClassName = `${vertical} ${horizontal}`;\n\n    this.setState({ positionClassName });\n  }\n\n  componentDidMount() {\n    const {\n      boardOverlay,\n      hueBanner,\n      alphaBanner,\n      _valueMouseHandler,\n      _valueKeyHandler,\n      _hueMouseHandler,\n      _hueKeyHandler,\n      _alphaMouseHandler,\n      _alphaKeyHandler\n    } = this;\n\n    this._addListeners(boardOverlay, _valueMouseHandler, _valueKeyHandler);\n    this._addListeners(hueBanner, _hueMouseHandler, _hueKeyHandler);\n    this._addListeners(alphaBanner, _alphaMouseHandler, _alphaKeyHandler);\n  }\n\n  componentWillUnmount() {\n    const { boardOverlay, hueBanner, alphaBanner } = this;\n\n    this._removeListeners(boardOverlay);\n    this._removeListeners(hueBanner);\n    this._removeListeners(alphaBanner);\n  }\n\n  render() {\n    const {\n      className,\n      paletteClassName,\n      paletteStyle,\n      dialogWidth,\n      dialogHeight,\n      ...rest\n    } = this.props;\n    const { showDialog, h, s, v, a, positionClassName } = this.state;\n    const { r: hR, g: hG, b: hB } = hsv2rgb(h, 100, 100);\n    const { r, g, b } = hsv2rgb(h, s * 100, v * 100);\n\n    return (\n      <div\n        ref={c => (this.colorPicker = c)}\n        className={ClassNames(\"color-picker\", className)}\n        {...rest}\n      >\n        <button\n          ref={c => (this.colorPalette = c)}\n          className={ClassNames(\"color-palette\", paletteClassName)}\n          style={Object.assign(\n            { backgroundColor: `rgba(${r}, ${g}, ${b}, ${a})` },\n            paletteStyle\n          )}\n          onClick={() => (showDialog ? this._hideDialog() : this._showDialog())}\n        />\n        <div\n          ref={d => (this.colorDialog = d)}\n          className={ClassNames(\n            \"color-picker-dialog\",\n            { show: showDialog },\n            positionClassName\n          )}\n          style={showDialog ? { width: dialogWidth, height: dialogHeight } : {}}\n        >\n          <div className=\"color-picker-panel\">\n            <div\n              className=\"color-board\"\n              style={{ backgroundColor: `rgb(${hR}, ${hG}, ${hB})` }}\n            >\n              <div\n                className=\"color-board-gradient\"\n                style={{ backgroundImage: `url(${Gradient})` }}\n              >\n                <div\n                  className=\"color-board-pointer\"\n                  style={{\n                    top: `${(1 - v) * 100}%`,\n                    left: `${s * 100}%`\n                  }}\n                />\n              </div>\n              <button\n                ref={boardOverlay => (this.boardOverlay = boardOverlay)}\n                className=\"color-board-overlay\"\n              />\n            </div>\n            <button\n              ref={hueBanner => (this.hueBanner = hueBanner)}\n              className=\"hue-banner\"\n              style={{ backgroundImage: `url(${Hue})` }}\n            >\n              <div\n                className=\"thumb\"\n                style={{ left: `${(1 - h / 360) * 100}%` }}\n              />\n            </button>\n            <button\n              ref={alphaBanner => (this.alphaBanner = alphaBanner)}\n              className=\"alpha-banner\"\n              style={{ backgroundImage: `url(${Alpha})` }}\n            >\n              <div\n                className=\"alpha-banner-overlay\"\n                style={{\n                  background: `linear-gradient(to right, transparent, rgb(${r}, ${g}, ${b}))`\n                }}\n              />\n              <div className=\"thumb\" style={{ left: `${a * 100}%` }} />\n            </button>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nColorPicker.propTypes = {\n  className: PropTypes.string,\n  paletteClassName: PropTypes.string,\n  paletteStyle: PropTypes.shape(),\n  dialogWidth: PropTypes.number,\n  dialogHeight: PropTypes.number,\n  color: PropTypes.shape({\n    r: PropTypes.number,\n    g: PropTypes.number,\n    b: PropTypes.number,\n    a: PropTypes.number\n  }),\n  onChange: PropTypes.func\n};\n\nColorPicker.defaultProps = {\n  className: \"\",\n  paletteClassName: \"\",\n  paletteStyle: {},\n  dialogWidth: 200,\n  dialogHeight: 190,\n  color: {\n    r: random() * 255,\n    g: random() * 255,\n    b: random() * 255,\n    a: 1\n  },\n  onChange: () => {}\n};\n\nexport default ColorPicker;\n","import React, { Component } from \"react\";\nimport { render } from \"react-dom\";\nimport Mouse from \"jw-mouse\";\n\nimport ColorPicker from \"./module\";\n\nimport \"./style.css\";\n\nclass Demo extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      top: 50,\n      left: 50,\n      color: { r: 90, g: 220, b: 100, a: 1 }\n    };\n\n    this.dragHandler = this.dragHandler.bind(this);\n    this.downHandler = this.downHandler.bind(this);\n    this.upHandler = this.upHandler.bind(this);\n  }\n\n  dragHandler(event) {\n    if (this.dragging) {\n      const { x: left, y: top } = event.mouse.position;\n      this.setState({ top, left });\n\n      this.picker.updateDialogPosition();\n    }\n  }\n\n  downHandler(event) {\n    if (event.target === this.picker.colorPalette) {\n      this.dragging = true;\n    }\n  }\n\n  upHandler() {\n    this.dragging = false;\n  }\n\n  componentDidMount() {\n    const { wrapper } = this;\n\n    wrapper.mouse = new Mouse(wrapper);\n    wrapper.mouse.onDown(this.downHandler);\n    wrapper.mouse.onUp(this.upHandler);\n    wrapper.mouse.onDrag(this.dragHandler);\n  }\n\n  componentWillUnmount() {\n    this.wrapper.mouse.detach();\n  }\n\n  render() {\n    const { top, left, color } = this.state;\n    const { r, g, b, a } = color;\n\n    return (\n      <div id=\"demo\">\n        <span>Hello!</span>\n        <div\n          id=\"background\"\n          style={{ backgroundColor: `rgba(${r}, ${g}, ${b}, ${a})` }}\n        >\n          <span>Drag me</span>\n        </div>\n\n        <div ref={w => (this.wrapper = w)}>\n          <ColorPicker\n            ref={p => (this.picker = p)}\n            id=\"color-picker\"\n            style={{ top: `${top - 10}px`, left: `${left - 10}px` }}\n            color={color}\n            onChange={value => this.setState({ color: value })}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n\nrender(<Demo />, document.getElementById(\"root\"));\n"],"sourceRoot":""}